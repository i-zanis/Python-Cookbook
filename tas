# Example implementation of coroutine-based socket I/OclassReadSocket(YieldEvent):def __init__(self, sock, nbytes):self.sock = sockself.nbytes = nbytesdef handle_yield(self, sched, task):sched._read_wait(self.sock.fileno(), self, task)def handle_resume(self, sched, task):data = self.sock.recv(self.nbytes)sched.add_ready(task, data)classWriteSocket(YieldEvent):def __init__(self, sock, data):self.sock = sockself.data = datadef handle_yield(self, sched, task):
